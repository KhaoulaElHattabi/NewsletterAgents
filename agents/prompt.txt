Vous Ãªtes un rÃ©dacteur de bulletin d'information spÃ©cialisÃ© dans l'intelligence artificielle. Votre tÃ¢che est de crÃ©er une newsletter captivante et informative Ã  partir d'informations rÃ©centes sur l'IA.

### Instructions :
1. **Introduction** : RÃ©digez une introduction engageante qui attire l'attention des lecteurs sur les derniÃ¨res tendances et dÃ©veloppements en matiÃ¨re d'intelligence artificielle.

2. **RÃ©sumÃ© des Informations** : PrÃ©sentez plusieurs points clÃ©s sur les avancÃ©es rÃ©centes en IA, en incluant :
   - ProgrÃ¨s techniques rÃ©cents
   - Nouvelles applications de l'IA
   - Innovations majeures
   - Impacts sur divers secteurs

3. **Mentionnez les Liens** : Pour chaque point clÃ©, incluez un lien vers l'article ou la source d'information pertinente. Par exemple :
   - Pour les progrÃ¨s en IA gÃ©nÃ©rative, mentionnez le lien de l'article correspondant.
   - Pour les nouvelles applications de l'IA, fournissez le lien de la source.

4. **Appels Ã  l'Action** : Incitez les lecteurs Ã  en apprendre davantage sur les sujets abordÃ©s en ajoutant des liens ou des rÃ©fÃ©rences vers des articles, des Ã©tudes ou des rapports pertinents.

5. **Style et Ton** : Utilisez un ton amical et informel, mais professionnel, pour rendre la lecture agrÃ©able et engageante.

6. **Conclusion** : Terminez avec une note positive sur l'avenir de l'IA et invitez les lecteurs Ã  rester informÃ©s.



# Example usage
query = "Quelles sont les derniÃ¨res avancÃ©es en intelligence artificielle et l'IA generative ?"
results = tavily_search.invoke(query)
print(results)


"""docs = any
persistent_directory = os.path.join(os.path.dirname(os.path.abspath(__file__)), 'db', 'chroma_db_agent')
embeddings = OpenAIEmbeddings(model = os.getenv('EMBEDDING_DEPLOYMENT_NAME'), api_key = os.getenv('OPENAI_API_KEY'))

if not os.path(persistent_directory): 
    db = Chroma(docs, embeddings, persistent_directory=persistent_directory)
else:
    db =  Chroma(persistent_directory=persistent_directory,embedding_function=embeddings)
    

dataset = load_dataset("jamescalam/ai-arxiv2-semantic-chunks", split="train")
# we will test with the mixtral paper
arxiv_id = "2401.04088"

res = requests.get(
    f"https://export.arxiv.org/abs/{arxiv_id}"
)


# our regex
abstract_pattern = re.compile(
    r'<blockquote class="abstract mathjax">\s*<span class="descriptor">Abstract:</span>\s*(.*?)\s*</blockquote>',
    re.DOTALL
)

# we search
re_match = abstract_pattern.search(res.text)

#fetch arxiv tool

@tool("fetch_arxiv")
def fetch_arxiv(arxiv_id: str):
    fetched abstract from research paper
    res = requests.get(
        f"https://export.arxiv.org/abs/{arxiv_id}"
    )

    re_match = abstract_pattern.search(res.text)

    return re_match.group(1)

print(
    fetch_arxiv.invoke(input={"arxiv_id": arxiv_id})
)

"""

@tool
def final_answer(article_summaries: List[Dict[str, str]]) -> str:
    """Generate a creative and friendly news bulletin with titles, summaries, and emojis for each article."""
    newsletter_parts = [
        "ğŸ“° GenAI Info est lÃ  - Votre GenAI newsletter hebdomadaire ğŸ“°\n\n",
        generate_with_llm("", "GÃ©nÃ¨re une introduction dynamique, amicale et engageante en 2 phrases pour une newsletter sur les avancÃ©es en intelligence artificielle."),
        "\n"
    ]
    
    for article in article_summaries:
        content = article['content']
        url = article['url']
        title = generate_with_llm(content, "Peux-tu gÃ©nÃ©rer un titre accrocheur pour cet article : {}")
        summary = generate_with_llm(content, "Peux-tu gÃ©nÃ©rer un rÃ©sumÃ© de cet article : {}")
        
        newsletter_parts.append(
            f"{title} ğŸ‰\n\n"
            f"{summary} ğŸ˜\n"
            f"ğŸ”— DÃ©couvrez tous les dÃ©tails ici : {url}\n\n"
            "ğŸ’¡---------------------ğŸ’¡\n"
        )
    
    newsletter_parts.append(generate_with_llm("", "GÃ©nÃ¨re une conclusion dynamique, amicale et engageante en 2 phrases pour une newsletter sur les avancÃ©es en intelligence artificielle."))
    
    return "\n".join(newsletter_parts)